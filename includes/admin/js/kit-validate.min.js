jQuery(document).ready((function(a){function e(e){var n=e.$button.siblings(".api-validation-status"),t=a('input[name="glue_link_settings['+e.fieldName+']"]');if(t.length){e.$button.prop("disabled",!0),n.html('<span class="spinner is-active" style="float: none; margin: 0;"></span>');var i={action:e.action,nonce:GlueLinkAdmin.nonce};i[e.fieldName]=t.val(),a.ajax({url:ajaxurl,type:"POST",data:i,success:function(a){a.success?n.html('<span style="color: green;">'+a.data.message+"</span>"):n.html('<span style="color: #a60000;">'+a.data.message+"</span>")},error:function(){n.html('<span style="color: #a60000;">'+glue_link_admin.strings.api_validation_error+"</span>")},complete:function(){e.$button.prop("disabled",!1)}})}else n.html('<span style="color: #a60000;">Field not found.</span>')}a(".validate-api-key").on("click",(function(n){n.preventDefault(),e({fieldName:"kit_api_key",action:"glue_link_validate_api",$button:a(this)})})),a(".validate-api-secret").on("click",(function(n){n.preventDefault(),e({fieldName:"kit_api_secret",action:"glue_link_validate_api_secret",$button:a(this)})}))}));